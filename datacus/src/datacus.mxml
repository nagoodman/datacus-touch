<?xml version="1.0" encoding="utf-8"?>
<s:WindowedApplication xmlns:fx="http://ns.adobe.com/mxml/2009" 
					   xmlns:s="library://ns.adobe.com/flex/spark" 
					   xmlns:mx="library://ns.adobe.com/flex/mx"
					   xmlns:components="components.*"
					   backgroundColor="#FFFFFF"
					   minWidth="1440"
					   minHeight="900"
					   creationComplete="init()">  
					<!--make it full screen, but for now...-->
	
	<fx:Script>
		<![CDATA[
			protected function Picker_clickHandler():void
			{
				const state:String = currentState;
				if ( state == 'Page1' ) {
					currentState='Page2';
				}
				if ( state == 'Page2' ) {
					currentState='Page1';
				}
			}
		]]>
	</fx:Script>
	<s:states>
		<s:State name="Page1"/>
		<s:State name="Page2"/>
	</s:states>
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>
	<fx:DesignLayer id="background">
<!--		I bet there's a better way to do the background		 -->
		<s:Rect id="bg" 
				width="100%" height="100%" 
				x="0" y="0">
			<s:fill>
				<s:SolidColor color="#CFE8FF"/>
			</s:fill>
			<s:filters>
				<s:GlowFilter alpha="1.0" blurX="6.0" blurY="6.0" color="0x5380d0" inner="true" knockout="false" quality="2" strength="1"/>
			</s:filters>
		</s:Rect>
	</fx:DesignLayer>
	<fx:DesignLayer id="panels">
<!--		organized left to right then top to bottom		 -->
		<components:Home id="home"
			x="20" y="20"
		/>
		<components:Measures id="measures"
			x="20" y="260"
		/>
		<components:StateStep id="stateStep"
			x="20" y="780"
		/>
		<components:Pager id="pager"
			x="180" y="20"
		/>
		<components:Series id="series"
			x="180" y="140"
		/>
		<components:Graph id="graph" 
			x="180" y="260"
		/>
		<components:Categories id="categories"
			x="180" y="780"
		/>
		<components:ServerStatus id="serverStatus"
			x="1280" y="20"
		/>
		<components:Sets id="sets"
			x="1280" y="140"
		/>
		<components:Picker id="picker"
			x="180" y="260"
			click="Picker_clickHandler()" 
			currentState.Page2="State2"
			d:userLabel="Picker">
		</components:Picker>
		<components:Trash id="trash"
			x="1280" y="780"
		/>	
	</fx:DesignLayer>
	<s:transitions>
		<s:Transition autoReverse="true" fromState="Page1" toState="Page2">
			<s:Parallel>
				<s:Parallel target="{picker}">
					<s:SetAction d:noAutoDelete="true" property="currentState" value="State2"/>
				</s:Parallel>
			</s:Parallel>
		</s:Transition>
		<s:Transition autoReverse="true" fromState="Page2" toState="Page1">
			<s:Parallel>
				<s:Parallel target="{picker}">
					<s:SetAction d:noAutoDelete="true" property="currentState" value="State1"/>
				</s:Parallel>
			</s:Parallel>
		</s:Transition>
	</s:transitions>
</s:WindowedApplication>
